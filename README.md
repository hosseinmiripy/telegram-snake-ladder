# 🎮 بازی مارپله آنلاین تلگرام

یک بازی مارپله آنلاین چندنفره با رابط کاربری زیبا و اتصال مستقیم به تلگرام.

![نمایش بازی مارپله](./static/images/game-preview.png)

## 💫 ویژگی‌ها

- بازی آنلاین تا 6 بازیکن همزمان
- طراحی واکنش‌گرا و زیبا
- انیمیشن‌های روان و جذاب
- ارتباط مستقیم با تلگرام
- امکان زدن حریف
- امکان انتخاب رنگ دلخواه
- قابل بازی در هر مرورگری
- سازگار با تمام دستگاه‌ها

## 🚀 راه‌اندازی

### پیش‌نیازها

- Python 3.7+
- Flask
- Flask-SocketIO
- pyTelegramBotAPI
- و سایر وابستگی‌ها که در `requirements.txt` ذکر شده‌اند

### نصب

1. کلون کردن مخزن:
```bash
git clone https://github.com/yourusername/telegram-snake-ladder.git
cd telegram-snake-ladder
```

2. نصب وابستگی‌ها:
```bash
pip install -r requirements.txt
```

3. ایجاد یک ربات تلگرام با [@BotFather](https://t.me/BotFather) و دریافت توکن آن.

4. تنظیم متغیرهای محیطی:
```bash
export TELEGRAM_TOKEN="توکن_ربات_شما"
export WEBHOOK_URL="آدرس_سرور_شما"
```

5. اجرای برنامه:
```bash
python run.py
```

## 📐 ساختار پروژه

```
snake_ladder_game/
│
├── app.py                  # فایل اصلی برنامه و نقطه ورود
├── config.py               # تنظیمات و پیکربندی پروژه
├── run.py                  # اسکریپت اجرایی
│
├── models/                 # مدل‌های داده
│   ├── __init__.py
│   ├── game.py             # کلاس بازی
│   └── player.py           # کلاس بازیکن
│
├── controllers/            # کنترلرها
│   ├── __init__.py
│   ├── game_controller.py  # منطق کنترل‌کننده بازی
│   ├── bot_controller.py   # کنترلر ربات تلگرام
│   └── socket_controller.py # کنترلر ارتباطات Socket.IO
│
├── services/               # سرویس‌ها
│   ├── __init__.py
│   ├── game_service.py     # سرویس مدیریت بازی‌ها
│   └── storage_service.py  # سرویس ذخیره‌سازی
│
├── static/                 # فایل‌های استاتیک
│   ├── css/
│   ├── js/
│   └── images/
│
├── templates/              # قالب‌های HTML
│   ├── index.html
│   ├── game.html
│   └── error.html
│
└── data/                   # دایرکتوری ذخیره داده‌ها
    └── games/              # فایل‌های ذخیره شده بازی‌ها
```

## 🎮 نحوه بازی

1. ربات را به گروه تلگرام خود اضافه کنید.
2. با دستور `/newgame` یک بازی جدید ایجاد کنید.
3. ادمین (سازنده بازی) باید بازی را تأیید کند.
4. سایر بازیکنان با دستور `/join` به بازی بپیوندند.
5. همه بازیکنان با دکمه «اعلام آمادگی» اعلام آمادگی کنند.
6. ادمین بازی را شروع کند.
7. بازی به صورت نوبتی انجام می‌شود و هر بازیکن در نوبت خود تاس می‌اندازد.
8. برخورد با مار موجب سقوط و برخورد با پله موجب صعود می‌شود.
9. برنده کسی است که زودتر به خانه 100 برسد.

## 📋 دستورات ربات

- `/newgame` - ایجاد بازی جدید
- `/join` - پیوستن به بازی موجود
- `/status` - مشاهده وضعیت بازی
- `/status -d` - مشاهده وضعیت تفصیلی بازی
- `/colors` - مشاهده رنگ‌های قابل انتخاب
- `/help` - نمایش راهنما

## 🧩 قوانین بازی

- هر بازی می‌تواند حداکثر 6 بازیکن داشته باشد.
- با تاس 6، یک نوبت اضافه خواهید داشت.
- برای رسیدن به خانه 100، باید عدد تاس دقیقاً به اندازه باقیمانده باشد.
- اگر به خانه‌ای برسید که بازیکن دیگری در آن است، آن بازیکن به ابتدا برمی‌گردد.

## 🛠️ فناوری‌های استفاده شده

- **Backend**: Python, Flask, Flask-SocketIO
- **Frontend**: HTML5, CSS3, JavaScript
- **ارتباطات**: Socket.IO, Telegram Bot API
- **پایگاه داده**: فایل‌های JSON


ساخته شده با ❤️ برای سرگرمی شما
